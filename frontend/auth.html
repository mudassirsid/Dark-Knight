<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TurfBooker - Auth</title>
  <style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Segoe UI", sans-serif; }

body {
  min-height: 100vh;
  background: linear-gradient(to bottom right,#f0fdf4,#f0faff);
  display:flex; justify-content:center; align-items:center; padding:20px;
}

.auth-card {
  background:#fff;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  width:100%;
  max-width:420px;
  padding:24px;
  text-align:center;
}

.auth-card h1 { color:#16a34a; font-size:28px; font-weight:bold; margin-bottom:4px; }
.auth-card p { color:#6b7280; margin-bottom:20px; font-size:14px; }

.tabs {
  display:flex;
  border:1px solid #e5e7eb;
  border-radius:8px;
  overflow:hidden;
  margin-bottom:20px;
}

.tab {
  flex:1;
  padding:10px 0;
  cursor:pointer;
  background:#f9fafb;
  border:none;
  font-weight:500;
  color:#374151;
  transition: background 0.3s, color 0.3s;
}

.tab.active {
  background:#fff;
  color:#16a34a;
  font-weight:bold;
  border-bottom:2px solid #16a34a;
}

/* ===== Smooth Form Transition ===== */
form {
  opacity: 0;
  transform: translateY(20px);
  pointer-events: none;
  max-height: 0;
  overflow: hidden;
  transition: opacity 0.4s ease, transform 0.4s ease, max-height 0.4s ease;
  text-align:left;
}

form.active {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
  max-height: 1000px; /* large enough to show form */
}

/* ===== Form Inputs ===== */
.form-group { margin-bottom:15px; position:relative; }
.form-group label { font-size:14px; color:#374151; margin-bottom:5px; display:block; }
.form-group input {
  width:100%;
  padding:10px 35px 10px 35px;
  border:1px solid #d1d5db;
  border-radius:8px;
  font-size:14px;
  outline:none;
}
.form-group input:focus { border-color:#16a34a; }

.form-group select {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  font-size: 14px;
  color: #374151;
  background-color: #fff;
  appearance: none;
  cursor: pointer;
  transition: border-color 0.3s, box-shadow 0.3s;
}
.form-group select:focus {
  border-color: #16a34a;
  box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.2);
  outline: none;
}
.form-group select {
  background-image: url('data:image/svg+xml;utf8,<svg fill="%239ca3af" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><polygon points="0,0 20,0 10,10"/></svg>');
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
}

/* ===== Buttons ===== */
.btn { width:100%; padding:12px; border:none; border-radius:8px; font-size:16px; cursor:pointer; font-weight:bold; transition:all 0.3s ease; }
.btn-login { background:#16a34a; color:white; }
.btn-login:hover { background:#15803d; }
.btn-register { background:#16a34a; color:white; }
.btn-register:hover { background:#15803d; }

.back-home { margin-top:16px; color:#16a34a; cursor:pointer; font-size:14px; display:inline-block; }

.message {
  margin-top:10px;
  padding:10px;
  border-radius:6px;
  font-size:14px;
  display:block;
  opacity: 0;
  transition: opacity 0.4s;
}

.message.error { background:#fee2e2; color:#dc2626; }
.message.success { background:#dcfce7; color:#16a34a; }
.message.show { opacity: 1; }

  </style>
</head>
<body>
  <div class="auth-card">
    <h1>TurfBooker</h1>
    <p>Your gateway to premium sports facilities</p>

    <div class="tabs">
      <button class="tab active" id="login-tab">Login</button>
      <button class="tab" id="register-tab">Register</button>
    </div>

    <!-- Login Form -->
    <form id="login-form" class="active">
      <div class="form-group">
        <label>Email</label>
        <span class="icon"></span>
        <input type="email" id="login-email" placeholder="Enter your email" required>
      </div>
      <div class="form-group">
        <label>Password</label>
        <span class="icon"></span>
        <input type="password" id="login-password" placeholder="Enter your password" required>
      </div>
      <button type="submit" class="btn btn-login">Sign In</button>
      <div id="login-message" class="message"></div>
    </form>

    <!-- Register Form -->
    <form id="register-form">
      <div class="form-group">
        <label>Full Name</label>
        <span class="icon"></span>
        <input type="text" id="reg-name" placeholder="Enter your full name" required>
      </div>
      <div class="form-group">
        <label>Email</label>
        <span class="icon"></span>
        <input type="email" id="reg-email" placeholder="Enter your email" required>
      </div>
      <div class="form-group">
        <label>Phone Number</label>
        <span class="icon"></span>
        <input type="tel" id="reg-phone" placeholder="Enter your phone number" required>
      </div>
      <div class="form-group">
        <label>City</label>
        <span class="icon"></span>
        <input type="text" id="reg-city" placeholder="Mumbai" required>
      </div>
      <div class="form-group">
        <label>Password</label>
        <span class="icon"></span>
        <input type="password" id="reg-password" placeholder="Create a password" required>
      </div>
      <div class="form-group">
        <label>Confirm Password</label>
        <span class="icon"></span>
        <input type="password" id="reg-confirm" placeholder="Confirm your password" required>
      </div>
      <div class="form-group">
        <label>Role</label>
        <select id="reg-role" required>
        <option value="" disabled selected>Select your role</option>
        <option value="customer">Customer</option>
        <option value="manager">Manager</option>
        </select>
    </div>
      <button type="submit" class="btn btn-register">Create Account</button>
      <div id="register-message" class="message"></div>
    </form>

    <a href="/" class="back-home">Back to Home</a>
  </div>

<script>
const loginTab = document.getElementById("login-tab");
const registerTab = document.getElementById("register-tab");
const loginForm = document.getElementById("login-form");
const registerForm = document.getElementById("register-form");

// Auto-switch tab based on URL parameter
const params = new URLSearchParams(window.location.search);
const tabParam = params.get("tab");

if(tabParam === "register") {
  switchToRegister();
} else {
  switchToLogin(); // default
}


// Switch tabs with smooth transition
function switchToLogin() {
  loginTab.classList.add("active");
  registerTab.classList.remove("active");
  loginForm.classList.add("active");
  registerForm.classList.remove("active");
}
function switchToRegister() {
  registerTab.classList.add("active");
  loginTab.classList.remove("active");
  registerForm.classList.add("active");
  loginForm.classList.remove("active");
}
loginTab.addEventListener("click", switchToLogin);
registerTab.addEventListener("click", switchToRegister);

// --- REGISTER FORM ---
registerForm.addEventListener("submit", (e) => {
  e.preventDefault();

  const name = document.getElementById("reg-name").value.trim();
  const email = document.getElementById("reg-email").value.trim();
  const phone = document.getElementById("reg-phone").value.trim();
  const city = document.getElementById("reg-city").value.trim();
  const password = document.getElementById("reg-password").value.trim();
  const confirm = document.getElementById("reg-confirm").value.trim();
  const role = document.getElementById("reg-role").value; // role select
  const msg = document.getElementById("register-message");

  if(password !== confirm){
    msg.textContent = "Passwords do not match!";
    msg.className = "message error show";
    return;
  }
  if(password.length < 6){
    msg.textContent = "Password must be at least 6 characters!";
    msg.className = "message error show";
    return;
  }

  // Save user to localStorage (simulate DB)
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  users.push({name, email, phone, city, password, role});
  localStorage.setItem("users", JSON.stringify(users));

  msg.textContent = "Registration successful! Redirecting...";
  msg.className = "message success show";

  setTimeout(() => {
    // Auto-login after register
    localStorage.setItem("currentUser", JSON.stringify({email, role, name}));
    window.location.href = "index.html";
  }, 1500);
});

// --- LOGIN FORM ---
loginForm.addEventListener("submit", (e) => {
  e.preventDefault();
  const email = document.getElementById("login-email").value.trim();
  const password = document.getElementById("login-password").value.trim();
  const msg = document.getElementById("login-message");

  const users = JSON.parse(localStorage.getItem("users") || "[]");
  const user = users.find(u => u.email === email && u.password === password);

  if(user){
    msg.textContent = "Login successful! Redirecting...";
    msg.className = "message success show";
    localStorage.setItem("currentUser", JSON.stringify({email: user.email, role: user.role, name: user.name}));
    setTimeout(() => {
      window.location.href = "index.html";
    }, 1000);
  } else {
    msg.textContent = "Invalid email or password!";
    msg.className = "message error show";
  }
});
</script>

</body>
</html>